openapi: '3.0.0'
info:
  version: 1.0.0-draft1
  title: Raw Potato Faux API
paths:
  '/':
    get:
      summary: landing page of this API
      description: >-
        The landing page provides links to the API definition, the Conformance
        statements and the metadata about the feature data in this dataset.
      operationId: getLandingPage
      tags:
        - Capabilities
      responses:
        '200':
          description: links to the API capabilities
          content:
            text/html:
              schema:
                type: string
  /order/{id}/finishedFile/{fileId}:
    get:
      tags:
        - order
      summary: Download finished file
      description: Download the file for a finished unit for an order based on a single ID.
      operationId: downloadUnitFinishedFile
      parameters:
        - name: id
          in: path
          description: ID of order to fetch the finished units
          required: true
          schema:
            type: integer
        - name: fileId
          in: path
          description: File ID of the file from the finished unit. This can be retrieved from order's [ finished units](./#operation/findOrderFinishedUnits) operation.
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Returns the unit file
          content:
            application/pdf:
              schema:
                type: string
                format: binary
            image/jpg:
              schema:
                type: string
                format: binary
  /risks/{transaction-id}/accountSnapshot:
    get:
      tags:
        - XS2A.risk
      summary: Download an Account Snapshot
      description: >-
        An account snapshot can be downloaded in several formats. The response object 
        described here details the JSON2 response.
      parameters:
        - in: path
          name: transaction-id
          description: ID of the transaction to be retrieved.
          required: true
          schema:
            type: string
        - in: query
          name: format
          description: >-
            The format parameter is optional. The account snapshot is available in 
            the following formats: pdf, csv, json and json2. This call defaults to 
            pdf if the format parameter is omitted. Please note that you have to use 
            json2 as format if the all_accounts parameter was set to true.
          required: false
          schema:
            type: string
            enum: ['pdf', 'csv', 'json', 'json2']
      responses:
        '200':
          description: Request successfully processed
          content:
            text/csv; charset=UTF-8:
              schema:
                type: string
              example:
                booking_date;purpose;amount;currency;counter_iban;counter_bic;counter_holder;tags;category_id
                26.02.2019;"ABSCHLUSS KEINE BELEG INFORMATIONEN, SIEHE GGF. KONTOAUSZUG !";-9.55;EUR;;;;;
            application/pdf:
              schema:
                type: string
                format: byte
            application/octet-stream:
              schema:
                type: string
                format: byte
  '/risks/{transaction-id}/factSheet':
    get:
      tags:
        - XS2A.risk
      summary: Download a Fact Sheet
      parameters:
        - in: path
          name: transaction-id
          description: ID of the transaction to be retrieved.
          required: true
          schema:
            type: string
        - in: query
          name: format
          description: >-
            The format parameter is optional. The account snapshot is available in 
            the following formats: `pdf`, `csv` and `json`. This call defaults to 
            pdf if the format parameter is omitted.
          required: false
          schema:
            type: string
            enum: ['pdf', 'csv', 'json2']
      responses:
        '200':
          description: Request successfully processed
          content:
            application/json:
              example:
                Will follow.
            application/pdf:
              schema:
                type: string
                format: byte
            application/octet-stream:
              schema:
                type: string
                format: byte
  '/v1/{tenantId}/plans/{planId}':
    delete:
      tags:
        - s3
      summary: delete a bucket.
      operationId: bucketdelete
      responses:
        '200':
          description: successful delete bucket
          content:
            application/xml:
              schema:
                $ref: '#/components/schemas/BaseResponse'
components:
  schemas:
    BaseResponse:
      type: object
      properties:
        ErrorCode:
          description: error code
          type: string
        Message:
          description: sucessfully or failure
          type: string